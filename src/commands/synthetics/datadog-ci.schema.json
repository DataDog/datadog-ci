{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "BasicAuthCredentials": {
            "properties": {
                "password": {
                    "type": "string"
                },
                "username": {
                    "type": "string"
                }
            },
            "type": "object"
        },
        "CookiesObject": {
            "properties": {
                "append": {
                    "type": "boolean"
                },
                "value": {
                    "type": "string"
                }
            },
            "type": "object"
        },
        "ProxyConfiguration": {
            "properties": {
                "auth": {
                    "properties": {
                        "password": {
                            "type": "string"
                        },
                        "username": {
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "host": {
                    "type": "string"
                },
                "port": {
                    "type": "number"
                },
                "protocol": {
                    "$ref": "#/definitions/ProxyType"
                }
            },
            "type": "object"
        },
        "ProxyType": {
            "enum": [
                "http",
                "https",
                "pac+data",
                "pac+file",
                "pac+ftp",
                "pac+http",
                "pac+https",
                "socks",
                "socks4",
                "socks4a",
                "socks5",
                "socks5h"
            ],
            "type": "string"
        },
        "RetryConfig": {
            "properties": {
                "count": {
                    "description": "The number of attempts to perform in case of test failure.",
                    "type": "number"
                },
                "interval": {
                    "description": "The interval between attempts in milliseconds.",
                    "type": "number"
                }
            },
            "type": "object"
        },
        "UserConfigOverride": {
            "properties": {
                "allowInsecureCertificates": {
                    "description": "Disable certificate checks in Synthetic API tests.",
                    "type": "boolean"
                },
                "basicAuth": {
                    "$ref": "#/definitions/BasicAuthCredentials",
                    "description": "Credentials to provide if basic authentication is required."
                },
                "body": {
                    "description": "Data to send in an API test.",
                    "type": "string"
                },
                "bodyType": {
                    "description": "Content type for the data to send in an API test.",
                    "type": "string"
                },
                "cookies": {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/CookiesObject"
                        },
                        {
                            "type": "string"
                        }
                    ],
                    "description": "Use the provided string as a cookie header in an API or browser test (in addition or as a replacement).\n- If this is a string (e.g. `name1=value1;name2=value2;`), it is used to replace the original cookies.\n- If this is an object, it is used to either add to or replace the original cookies, depending on `append`."
                },
                "defaultStepTimeout": {
                    "description": "The maximum duration of steps in seconds for browser tests, which does not override individually set step timeouts.",
                    "type": "number"
                },
                "deviceIds": {
                    "description": "A list of devices to run the browser test on.",
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "executionRule": {
                    "description": "The execution rule for the test defines the behavior of the CLI in case of a failing test.\n- `blocking`: The CLI returns an error if the test fails.\n- `non_blocking`: The CLI only prints a warning if the test fails.\n- `skipped`: The test is not executed at all.",
                    "enum": [
                        "blocking",
                        "non_blocking",
                        "skipped"
                    ],
                    "type": "string"
                },
                "followRedirects": {
                    "description": "Indicates whether or not to follow HTTP redirections in Synthetic API tests.",
                    "type": "boolean"
                },
                "headers": {
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "The headers to replace in the test. This object should contain keys as the name of the header to replace and values as the new value of the header to replace.",
                    "type": "object"
                },
                "locations": {
                    "description": "A list of locations to run the test from.",
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "mobileApplicationVersion": {
                    "description": "The ID of an application version to run a Synthetic mobile application test on.",
                    "type": "string"
                },
                "mobileApplicationVersionFilePath": {
                    "description": "Upload an application as a temporary version for a Synthetic mobile application test.",
                    "type": "string"
                },
                "resourceUrlSubstitutionRegexes": {
                    "description": "The maximum duration in milliseconds of a test. If the execution exceeds this value, it is considered failed.",
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "retry": {
                    "$ref": "#/definitions/RetryConfig",
                    "description": "The retry policy for the test."
                },
                "setCookies": {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/CookiesObject"
                        },
                        {
                            "type": "string"
                        }
                    ],
                    "description": "TODO"
                },
                "startUrl": {
                    "description": "The new start URL to provide to the test. Variables specified in brackets (for example, `{{ EXAMPLE }}`) found in environment variables are replaced.",
                    "type": "string"
                },
                "startUrlSubstitutionRegex": {
                    "description": "The regex to modify the starting URL of the test (for browser and HTTP tests only), whether it was given by the original test or the configuration override `startUrl`.",
                    "type": "string"
                },
                "testTimeout": {
                    "type": "number"
                },
                "variables": {
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "The variables to replace in the test. This object should contain key as the name of the variable to replace and values as the new value of the variable to replace.",
                    "type": "object"
                }
            },
            "type": "object"
        }
    },
    "properties": {
        "apiKey": {
            "type": "string"
        },
        "appKey": {
            "type": "string"
        },
        "batchTimeout": {
            "type": "number"
        },
        "configPath": {
            "type": "string"
        },
        "datadogSite": {
            "type": "string"
        },
        "defaultTestOverrides": {
            "$ref": "#/definitions/UserConfigOverride",
            "description": "Overrides for Synthetic tests applied to all tests."
        },
        "failOnCriticalErrors": {
            "type": "boolean"
        },
        "failOnMissingTests": {
            "type": "boolean"
        },
        "failOnTimeout": {
            "type": "boolean"
        },
        "files": {
            "items": {
                "type": "string"
            },
            "type": "array"
        },
        "jUnitReport": {
            "type": "string"
        },
        "mobileApplicationVersionFilePath": {
            "type": "string"
        },
        "proxy": {
            "$ref": "#/definitions/ProxyConfiguration"
        },
        "publicIds": {
            "items": {
                "type": "string"
            },
            "type": "array"
        },
        "selectiveRerun": {
            "description": "Whether to only run the tests which failed in the previous test batches. By default, the organization default setting is used.",
            "type": "boolean"
        },
        "subdomain": {
            "description": "Used to create URLs to the Datadog UI.",
            "type": "string"
        },
        "testSearchQuery": {
            "description": "Search query to select which Synthetic tests to run.",
            "type": "string"
        },
        "tunnel": {
            "description": "Use the Continuous Testing Tunnel to execute your test batch.",
            "type": "boolean"
        }
    },
    "type": "object"
}

