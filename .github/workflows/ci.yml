# This workflow will do a clean install of node dependencies, build the source code and run tests

name: Continuous Integration

on: push

jobs:
  build-and-test:
    strategy:
      fail-fast: false
      matrix:
        version: [14, 16, 18]

    name: Build and test
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3
      - run: env
        env: CI: true  DD_SERVICE: datadog-ci-tests DD_CIVISIBILITY_AGENTLESS_ENABLED: 1 DD_API_KEY: ${{ secrets.DATADOG_API_KEY_MAIN_ACCOUNT }} DD_ENV: ci NODE_OPTIONS: -r dd-trace/ci/init
      - run: ls
